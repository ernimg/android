<div class="container mt-4">
  <div class="row">
    <!-- Lista skryptów -->
    <div class="col-sm-6 col-md-4">
      <ul class="list-group">
        <li v-for="script in loadScript" :key="script.id" class="list-group-item">
          <input
            class="form-check-input me-1"
            type="radio"
            :name="script.scriptName"
            :value="script.scriptName"
            :id="script.id"
            v-model.trim="selectedScript"
          >
          <label class="form-check-label" :for="script.id">{{ script.scriptName }}</label>
        </li>
      </ul>
    </div>

    <!-- Opis skryptu -->
    <div class="col-sm-6 col-md-8">
      <div v-for="item in lookingDescription" :key="item.id">
        <h4>Opis skryptu: {{ item.scriptName }}</h4>
        <p class="description_script">{{ item.sDescription }}</p>
        <h4>Wymagane kolumny dla pliku wsadowego</h4>

        <!-- Tabelka responsywna -->
        <div class="table-container">
          <div class="row header-row">
            <div v-for="(header, index) in dynamicHeaders" :key="'header-' + index" class="cell header-cell">
              {{ header }}
            </div>
          </div>
          <div class="row data-row">
            <div v-for="(item, index) in excelArr" :key="'data-' + index" class="cell">
              {{ item }}
            </div>
          </div>
        </div>

        <span>Autor skryptu: {{ item.sAuthor }}</span>
      </div>
    </div>
  </div>

  <!-- Formularz -->
  <form @submit.prevent="handleSubmit" class="mt-4">
    <label for="formFile" class="form-label">Dodaj plik wsadowy</label>
    <input
      class="form-control"
      @change="handleFileUpload"
      accept=".xlsx,.xls"
      ref="file"
      type="file"
      id="formFile"
    >
    <button class="btn btn-primary mt-2" v-if="!redyToValid" type="submit">
      Wyślij plik <font-awesome-icon icon="fa-solid fa-paper-plane" />
    </button>
  </form>

  <!-- Przycisk walidacji -->
  <button class="btn btn-success w-100 mt-3" v-if="redyToValid" @click="goToInitRm">
    Zweryfikuj plik <font-awesome-icon icon="fa-solid fa-list-check" />
  </button>
</div>


.table-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); /* Minimalna szerokość komórek */
  gap: 1px;
  border: 1px solid #ddd;
  overflow-x: auto; /* Scrollowanie poziome na małych ekranach */
  width: 100%; /* Dopasowanie do rodzica */
}

.cell {
  padding: 8px;
  border: 1px solid #ddd;
  text-align: center;
  word-wrap: break-word; /* Zawijanie długich tekstów */
  min-width: 100px; /* Minimalna szerokość komórki */
}

.header-cell {
  font-weight: bold;
  background-color: #f7f7f7; /* Jasny kolor nagłówków */
}

.row {
  display: contents; /* Dzięki temu komórki zachowują grid */
}
